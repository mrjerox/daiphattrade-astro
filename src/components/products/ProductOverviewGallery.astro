---
import ProductAccordion from "./ProductAccordion.astro";
import ProductImages from "./ProductImages.astro";

interface Props {
  title: string;
  price: number;
  primaryImage?: string;
  images: any[];
  full_description: string;
  data: any;
  description?: string;
}
const {
  title,
  price,
  primaryImage,
  images,
  full_description,
  description,
  data,
}: Props = Astro.props;
---

<div class="card card-product card-plain">
  <div class="row">
    {
      images.length != 0 && (
        <ProductImages primaryImage={primaryImage} images={images} />
      )
    }
    <div class="col-12 col-lg-6 mt-5 mt-lg-0">
      {title.length != 0 && <h2>{title}</h2>}
      {
        price != 0 && (
          <>
            <div class="d-flex mb-3">
              <h4 class="font-weight-normal">${price.toLocaleString()}</h4>
              <input class="opacity-0" value={price} />
            </div>
          </>
        )
      }
      <div class="product-description mt-4">
        <Fragment set:html={description} />
      </div>
      <div class="d-flex align-items-center mt-4">
        <button type="button" class="btn btn-dark btn-md mb-0 me-3"
          >Buy now</button
        >
        <button class="btn btn-white btn-md mb-0">Add to Cart</button>
      </div>
      <ProductAccordion data={data} description={full_description} />
    </div>
  </div>
</div>
